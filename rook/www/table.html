<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>StatMine</title>

    <!-- webpage icon -->
    <link rel="shortcut icon" href="images/favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="icon" href="images/favicon2.png" type="image/png" />

    <!-- jQuery includes -->
    <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.getUrlParam.js"></script>

    <!-- styling -->
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,300italic,400' rel='stylesheet' type='text/css'/>
    <link type="text/css" href="css/statmine2.css" rel="stylesheet" />
    <link type="text/css" href="css/table.css" rel="stylesheet" />

    <!-- scripting -->
    <script type="text/javascript">
      $(function() {
        var tablename = $(document).getUrlParam("table");
        jQuery.getJSON("r/get_table.r", {"table":tablename}, 
            function(data) {
          if (data.fail) {
            $("#table").html("<p>" + data.message + "</p>");
            return;
          }
          var div   = $("#table");
          var table = $("<table>");
          var tr    = $("<tr>").appendTo(table);
          jQuery.each(data[1], function(i, d) {
            $("<th>").text(i).appendTo(tr);
          })
          jQuery.each(data, function(i, d) {
            var tr = $("<tr>").appendTo(table);
            jQuery.each(d, function(i, d) {
              if (d == "") d = "-";
              $("<td>").text(d).appendTo(tr);
            });
          })
          table.appendTo(div);
        });
      });
    </script>

  </head>

  <body>
    <header>
      <h1><a href="index.html">StatMine</a></h1>
      <nav>
        <ul>
          <li><a href="index.html">Tables</a></li>
        </ul>
      </nav>
    </header>

    <article>
      <div id="table" class="numeric">
      </div>
    </article>

    <footer>
    </footer>
  </body>
</html>

